imports: 
  commons: commons.yml

types: 
  TypeDeclaration: 
    discriminated: false
    union: 
      - ObjectTypeDeclaration
      - EnumTypeDeclaration
      - DiscriminatedUnionDeclaration
      - UndiscriminatedUnionDeclaration
      - AliasDeclaration
  
  InlinedTypeDeclarationContainer: 
    properties: 
      type: InlinedTypeDeclaration
  
  InlinedTypeDeclaration: 
    discriminated: false
    union: 
      - ObjectTypeDeclaration
      - EnumTypeDeclaration
      - DiscriminatedUnionDeclaration
      - UndiscriminatedUnionDeclaration
  
  TypeReference: 
    discriminated: false
    union: 
      - string
      - TypeReferenceDetailed

  TypeReferenceDetailed:
    extends: 
      - commons.WithDocs
      - commons.WithName
      - commons.WithAvailability
      - commons.WithAudiences
    properties: 
      type: string
  
  BaseTypeDeclaration: 
    extends: 
      - commons.WithDocs
      - commons.WithAvailability
      - commons.WithDisplayName
      - commons.WithAudiences
  
  ### Aliases #### 

  AliasDeclaration: 
    extends: BaseTypeDeclaration
    properties: 
      type: string
  
  #### Objects ####

  ObjectTypeDeclaration: 
    extends: BaseTypeDeclaration
    properties: 
      extends: optional<ObjectExtends>
      properties: optional<map<string, TypeReference>>
  
  ObjectExtends: 
    discriminated: false
    union: 
      - string
      - list<TypeReference>

  # ObjectPropertyDeclaration:
  #   discriminated: false 
  #   union: 
  #     - TypeReference
  #     - InlinedTypeDeclaration
  
  #### Enums ####
  
  EnumTypeDeclaration: 
    extends: BaseTypeDeclaration
    properties: 
      enum: list<EnumVaue>
  
  EnumVaue:
    discriminated: false
    union: 
      - string
      - EnumValueDetailed
  
  EnumValueDetailed: 
    extends: 
      - commons.WithDocs
      - commons.WithName
    properties: 
      value: string
      casing: optional<CasingOverrides>
  
  CasingOverrides: 
    properties: 
      camel: optional<string>
      snake: optional<string>
      pascal: optional<string>
      screaming-snake: optional<string>

  #### Discriminated Union ####

  UnionTypeReference: 
    discriminated: false
    union: 
      - string
      - UnionVariantTypeReference

  UnionVariantTypeReference: 
    extends: 
      - commons.WithDocs
      - commons.WithName
      - commons.WithAvailability
    properties: 
      type: string    
  
  DiscriminatedUnionDeclaration: 
    properties: 
      extends: BaseTypeDeclaration
      base-properties: optional<map<string, TypeReference>>
      union: optional<map<string, UnionTypeReference>>

#### Undiscriminated Union ####

  UndiscriminatedUnionDeclaration: 
    properties: 
      extends: BaseTypeDeclaration
      union: optional<list<UnionTypeReference>>