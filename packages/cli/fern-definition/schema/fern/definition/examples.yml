imports: 
  commons: commons.yml

types: 
  
  ExampleTypeSchema: 
    extends: 
      - commons.WithName
      - commons.WithDocs
    properties: 
      value: unknown
  
  ExampleTypeValueSchema: unknown
  
  ExampleWebSocketSession: 
    extends: 
      - commons.WithName
      - commons.WithDocs
    properties: 
      path-parameters: optional<map<string, ExampleTypeReferenceSchema>>
      query-parameters: optional<map<string, ExampleTypeReferenceSchema>>
      headers: optional<map<string, ExampleTypeReferenceSchema>>
      message: list<ExampleWebSocketMessage>
  
  ExampleWebSocketMessage: 
    properties: 
      type: string
      body: unknown
  
  ExampleEndpointCallSchema:
    extends: 
      - commons.WithName
      - commons.WithDocs     
    properties: 
      id: optional<string>
      path-parameters: optional<map<string, ExampleTypeReferenceSchema>>
      query-parameters: optional<map<string, ExampleTypeReferenceSchema>>
      headers: optional<map<string, ExampleTypeReferenceSchema>>
      request: optional<ExampleTypeReferenceSchema>
      response: optional<ExampleResponseSchema>
      code-samples: optional<list<ExampleCodeSampleSchema>>
  
  ExampleWebhookCallSchema: 
    extends: 
      - commons.WithName
      - commons.WithDocs      
    properties: 
      id: optional<string>
      payload: ExampleTypeReferenceSchema

  ExampleResponseSchema:  
    discriminated: false
    union: 
      - ExampleBodyResponseSchema
      - type: ExampleStreamResponseSchema
        docs: JSON Streams
      - type: ExampleSseResponseSchema
        docs: Server-Sent Event streams
  
  ExampleBodyResponseSchema: 
    properties: 
      error: optional<string>
      body: optional<ExampleTypeReferenceSchema>
  
  ExampleStreamResponseSchema: 
    properties: 
      stream: list<ExampleTypeReferenceSchema>
  
  ExampleSseResponseSchema: 
    properties: 
      stream: list<ExampleSseEvent>

  ExampleSseEvent: 
    properties: 
      event: optional<string>
      data: optional<ExampleTypeReferenceSchema>
  
  ExampleTypeReferenceSchema: unknown

  ExampleCodeSampleSchema: 
    discriminated: false
    union: 
      - ExampleCodeSampleSchemaSdk
      - ExampleCodeSampleSchemaLanguage
  
  ExampleCodeSampleSchemaSdk: 
    extends: 
      - commons.WithDocs
      - commons.WithName  
    properties: 
      sdk: SdkLanguage
      code: string
  
  SdkLanguage: 
    enum: 
     - curl
     - python
     - javascript
     - typescript
     - go
     - ruby
     - csharp
     - java
  
  ExampleCodeSampleSchemaLanguage: 
    extends: 
      - commons.WithDocs
      - commons.WithName
    properties: 
      language: string
      code: string
      install: optional<string>

